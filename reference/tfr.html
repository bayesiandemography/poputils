<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><title>Calculate Total Fertility Rates — tfr • poputils</title><!-- favicons --><link rel="icon" type="image/png" sizes="96x96" href="../favicon-96x96.png"><link rel="icon" type="”image/svg+xml”" href="../favicon.svg"><link rel="apple-touch-icon" sizes="180x180" href="../apple-touch-icon.png"><link rel="icon" sizes="any" href="../favicon.ico"><link rel="manifest" href="../site.webmanifest"><script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"><link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet"><script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet"><link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet"><script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Calculate Total Fertility Rates — tfr"><meta name="description" content="Calculate the total fertility rate (TFR)
from age-specific fertility rates."><meta property="og:description" content="Calculate the total fertility rate (TFR)
from age-specific fertility rates."><meta property="og:image" content="https://bayesiandemography.github.io/poputils/logo.png"></head><body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">poputils</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.6.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto"><li class="nav-item"><a class="nav-link" href="../articles/poputils.html">Get started</a></li>
<li class="active nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul><ul class="navbar-nav"><li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json"></form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/bayesiandemography/poputils/" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul></div>


  </div>
</nav><div class="container template-reference-topic">
<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">
      <img src="../logo.png" class="logo" alt=""><h1>Calculate Total Fertility Rates</h1>
      <small class="dont-index">Source: <a href="https://github.com/bayesiandemography/poputils/blob/main/R/tfr.R" class="external-link"><code>R/tfr.R</code></a></small>
      <div class="d-none name"><code>tfr.Rd</code></div>
    </div>

    <div class="ref-description section level2">
    <p>Calculate the total fertility rate (TFR)
from age-specific fertility rates.</p>
    </div>

    <div class="section level2">
    <h2 id="ref-usage">Usage<a class="anchor" aria-label="anchor" href="#ref-usage"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span><span class="fu">tfr</span><span class="op">(</span></span>
<span>  <span class="va">data</span>,</span>
<span>  asfr <span class="op">=</span> <span class="va">asfr</span>,</span>
<span>  age <span class="op">=</span> <span class="va">age</span>,</span>
<span>  sex <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  by <span class="op">=</span> <span class="cn">NULL</span>,</span>
<span>  denominator <span class="op">=</span> <span class="fl">1</span>,</span>
<span>  suffix <span class="op">=</span> <span class="cn">NULL</span></span>
<span><span class="op">)</span></span></code></pre></div>
    </div>

    <div class="section level2">
    <h2 id="arguments">Arguments<a class="anchor" aria-label="anchor" href="#arguments"></a></h2>


<dl><dt id="arg-data">data<a class="anchor" aria-label="anchor" href="#arg-data"></a></dt>
<dd><p>Data frame with age-specific fertility rates
and age</p></dd>


<dt id="arg-asfr">asfr<a class="anchor" aria-label="anchor" href="#arg-asfr"></a></dt>
<dd><p>&lt;<code><a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">tidyselect</a></code>&gt;
Age-specific fertility rates.
Possibly an <a href="https://bayesiandemography.github.io/rvec/reference/rvec.html" class="external-link">rvec</a>.
Default is <code>asfr</code>.</p></dd>


<dt id="arg-age">age<a class="anchor" aria-label="anchor" href="#arg-age"></a></dt>
<dd><p>&lt;<code><a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">tidyselect</a></code>&gt;
Age group labels. The labels must be
interpretable by functions
such as <code><a href="reformat_age.html">reformat_age()</a></code> and <code><a href="age_group_type.html">age_group_type()</a></code>.
The age groups must not have gaps,
and the highest age group must be "closed"
(ie have an upper limit.) Default is <code>age</code>.</p></dd>


<dt id="arg-sex">sex<a class="anchor" aria-label="anchor" href="#arg-sex"></a></dt>
<dd><p>&lt;<code><a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">tidyselect</a></code>&gt;
Sex/gender of the child (not the parent).</p></dd>


<dt id="arg-by">by<a class="anchor" aria-label="anchor" href="#arg-by"></a></dt>
<dd><p>&lt;<code><a href="https://tidyselect.r-lib.org/reference/language.html" class="external-link">tidyselect</a></code>&gt;
Separate total fertility rates are calculated
for each combination the <code>by</code> variables.
If <code>data</code> is a
<a href="https://dplyr.tidyverse.org/reference/group_data.html" class="external-link">grouped</a>
data frame, then the grouping variables
take precedence over <code>by</code>.</p></dd>


<dt id="arg-denominator">denominator<a class="anchor" aria-label="anchor" href="#arg-denominator"></a></dt>
<dd><p>The denominator used to
calculate <code>asfr</code>. Default is 1.</p></dd>


<dt id="arg-suffix">suffix<a class="anchor" aria-label="anchor" href="#arg-suffix"></a></dt>
<dd><p>Optional suffix added to <code>"tfr"</code>
column in result.</p></dd>

</dl></div>
    <div class="section level2">
    <h2 id="value">Value<a class="anchor" aria-label="anchor" href="#value"></a></h2>
    <p>A <a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a>.</p>
    </div>
    <div class="section level2">
    <h2 id="details">Details<a class="anchor" aria-label="anchor" href="#details"></a></h2>
    <p>The total fertility rate is a summary measures for
current fertility levels that removes the effect
of age structure. Is obtained by summing up age-specific
fertility rates, multiplying each rate by the
width of the corresponding age group. For instance,
the rate for age group "15-19" is multiplied by
5, and the rate for age group "15" is multiplied by 1.</p>
<p>The total fertility rate can be interpreted as the
number of average children that a
person would have, under prevailing fertility rates,
if the person survived to the maximum
age of reproduction.
The hypothetical person is normally a woman, since
age-specific fertility rates normally use
person-years lived by women as the denominator. But it
can apply to men, if the age-specific fertility rates
are "paternity rates", ie rates that use
person-years lived by men as the denominator.</p>
    </div>
    <div class="section level2">
    <h2 id="sex-specific-fertility-rates">Sex-specific fertility rates<a class="anchor" aria-label="anchor" href="#sex-specific-fertility-rates"></a></h2>



<p>Age-specific fertility rates do not
normally specify the sex of the children
who are born. In cases where they do, however,
rates have to be summed across sexes to
give the total fertility rates. If <code>tfr()</code> is
supplied with a <code>sex</code> argument, it assumes that
<code>sex</code> applies to the births, and sums over the sexes.</p>
    </div>
    <div class="section level2">
    <h2 id="denominator">Denominator<a class="anchor" aria-label="anchor" href="#denominator"></a></h2>



<p>Published tables of age-specific fertility rates
often express the rates as births per 1000 person-years
lived, rather than per person-year lived. (Sometimes
this is expressed as "births per 1000 women".)
In these cases</p>
    </div>
    <div class="section level2">
    <h2 id="using-rvecs-to-represent-uncertainty">Using rvecs to represent uncertainty<a class="anchor" aria-label="anchor" href="#using-rvecs-to-represent-uncertainty"></a></h2>



<p>An <a href="https://bayesiandemography.github.io/rvec/reference/rvec.html" class="external-link">rvec</a> is a 'random vector',
holding multiple draws from a distribution.
Using an rvec for the <code>asfr</code> argument to
<code>tfr()</code> is a way of representing
uncertainty. This uncertainty is propagated
through to the TFR, which will
also be rvecs.</p>
    </div>
    <div class="section level2">
    <h2 id="see-also">See also<a class="anchor" aria-label="anchor" href="#see-also"></a></h2>
    <div class="dont-index">
<ul><li><p><code><a href="lifetab.html">lifeexp()</a></code> Calculate life expectancy from age-specific
mortality rates.</p></li>
</ul></div>
    </div>

    <div class="section level2">
    <h2 id="ref-examples">Examples<a class="anchor" aria-label="anchor" href="#ref-examples"></a></h2>
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="r-in"><span><span class="va">irn_fert</span> <span class="op">|&gt;</span></span></span>
<span class="r-in"><span>  <span class="fu">tfr</span><span class="op">(</span>asfr <span class="op">=</span> <span class="va">rate</span>,</span></span>
<span class="r-in"><span>      by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="va">area</span>, <span class="va">time</span><span class="op">)</span>,</span></span>
<span class="r-in"><span>      denominator <span class="op">=</span> <span class="fl">1000</span><span class="op">)</span></span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># A tibble: 30 × 3</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    area   time   tfr</span>
<span class="r-out co"><span class="r-pr">#&gt;</span>    <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span></span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 1</span> Rural  <span style="text-decoration: underline;">1</span>986  7.08</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 2</span> Rural  <span style="text-decoration: underline;">1</span>987  6.87</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 3</span> Rural  <span style="text-decoration: underline;">1</span>988  6.62</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 4</span> Rural  <span style="text-decoration: underline;">1</span>989  6.55</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 5</span> Rural  <span style="text-decoration: underline;">1</span>990  6.43</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 6</span> Rural  <span style="text-decoration: underline;">1</span>991  6.01</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 7</span> Rural  <span style="text-decoration: underline;">1</span>992  5.29</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 8</span> Rural  <span style="text-decoration: underline;">1</span>993  4.90</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;"> 9</span> Rural  <span style="text-decoration: underline;">1</span>994  4.37</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #BCBCBC;">10</span> Rural  <span style="text-decoration: underline;">1</span>995  3.82</span>
<span class="r-out co"><span class="r-pr">#&gt;</span> <span style="color: #949494;"># ℹ 20 more rows</span></span>
</code></pre></div>
    </div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside></div>


    <footer><div class="pkgdown-footer-left">
  <p>Developed by John Bryant.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer></div>





  </body></html>

